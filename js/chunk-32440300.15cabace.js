(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32440300"],{4889:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VLayout",{attrs:{"justify-center":""}},[a("VFlex",{attrs:{lg5:"",md12:""}},[a("BiliobCard",{attrs:{title:"注册"}},[a("div",{staticStyle:{position:"absolute",left:"15px",right:"15px"}},[a("MaterialNotification",{attrs:{value:t.alertSuccess,type:"success",transition:"scale-transition"}},[t._v(" 恭喜！操作成功！ ")]),a("MaterialNotification",{attrs:{value:t.alertError,type:"error",transition:"scale-transition"}},[t._v(" 抱歉！"+t._s(t.errorMsg)+"! ")])],1),a("div",[a("div",{staticClass:"body-1"},[t._v(" 这是一个第三方网站，账号信息和B站并不通用。 "),a("br"),t._v("登录后可以自主添加视频追踪，还能够实现关注UP主和收藏视频的功能。 "),a("br"),t._v("登录后还能签到获取积分，消耗积分获取更多数据情报。 ")])]),a("VCardActions",[a("VForm",{staticStyle:{width:"100%"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("VTextField",{attrs:{rules:[t.rules.required,t.rules.max],counter:50,label:"请输入用户名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("VTextField",{attrs:{readonly:t.mailDisabled,rules:[t.rules.required,t.rules.email],label:"请输入邮箱"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}}),a("VLayout",[a("VFlex",{attrs:{md8:""}},[a("VTextField",{attrs:{rules:[t.rules.required],label:"请输入验证激活码"},model:{value:t.activationCode,callback:function(e){t.activationCode=e},expression:"activationCode"}})],1),a("VFlex",{staticClass:"align-self-center",attrs:{md4:""}},[a("VBtn",{attrs:{text:"",loading:t.loading,color:"primary",disabled:!t.mailVerification(t.mail)},on:{click:function(e){return e.stopPropagation(),t.sendActivationCode(e)}}},[t._v(" 向邮箱发送验证码 ")])],1)],1),a("VTextField",{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",label:"请输入密码",value:"",counter:20,rules:[t.rules.required,t.rules.max,t.rules.min],hint:"至少6个字符"},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("VTextField",{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",rules:[t.rules.required,t.rules.min,t.rules.max,t.rules.passwdMatch],counter:20,value:"",name:"input",label:"请再输入一次密码呗",hint:"至少6个字符"},on:{"click:append":function(e){t.show=!t.show}}}),a("Center",[a("VBtn",{attrs:{color:"primary",disabled:!t.valid},on:{click:t.submit}},[t._v(" 注册 ")])],1)],1)],1)],1)],1)],1)},s=[],r=(a("b0c0"),{data:function(){var t=this;return{name:"",password:"",mail:"",valid:!1,show:null,alertSuccess:!1,alertError:!1,errorMsg:"",mailDisabled:!1,loading:!1,loader:"",activationCode:"",rules:{required:function(t){return!!t||"我必须知道这一项！求求你告诉我吧~"},min:function(t){return t.length>=6||"这么短小的话，也太不安全了吧"},max:function(t){return t.length<=50||"太长了！"},passwdMatch:function(e){return e===t.password||"貌似两次输入不一致..手速太快了？"},email:function(e){return t.mailVerification(e)||"据我所知，邮箱好像不长这样啊！"}}}},mounted:function(){this.$store.commit("toElse")},methods:{mailVerification:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},submit:function(){var t=this;this.axios.post("/user",{name:this.name,password:this.password,activationCode:this.activationCode,mail:this.mail}).then((function(){t.alertSuccess=!0,t.alertError=!1,t.logined=!0,setTimeout((function(){t.$router.push("/login")}),2e3)})).catch((function(e){t.alertError=!0,t.errorMsg=e.response.data.msg,setTimeout((function(){t.alertError=!1}),2e3)}))},sendActivationCode:function(){var t=this;this.mailDisabled=!0,this.loading=!0,setTimeout((function(){t.loading=!1}),6e4),this.axios.post("/user/activation-code?mail=".concat(this.mail)).then((function(){t.$store.commit("showMessage",{msg:"成功发送验证码",color:"success"})})).catch((function(e){t.errorMsg=e.response.data.msg,t.$store.commit("showMessage",{msg:t.errorMsg,color:"error"})}))}}}),o=r,n=(a("ab1f"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),d=a("99d9"),m=a("0e8f"),p=a("4bd4"),f=a("a722"),h=a("8654"),v=Object(n["a"])(o,i,s,!1,null,null,null);e["default"]=v.exports;c()(v,{VBtn:u["a"],VCardActions:d["a"],VFlex:m["a"],VForm:p["a"],VLayout:f["a"],VTextField:h["a"]})},a979:function(t,e,a){},ab1f:function(t,e,a){"use strict";var i=a("a979"),s=a.n(i);s.a}}]);